/*******************************************************************************
Vendor: Mellanox
Associated Filename: stream_transfer.hpp
Purpose: Example for Innova I/F
Revision History: March 28, 2016 - initial release
                                                *
*******************************************************************************
#-  (c) Copyright 2016 Mellanox Technologies Ltd. All rights reserved.
#-
#-
#- ************************************************************************ */
/*
 * This file contains an example
 */

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#ifndef __STREAM_TRANSFER__
#define __STREAM_TRANSFER__

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "globals.hpp"
#include "example.hpp"
#include <stdio.h>
#include <string.h>
#include <ap_shift_reg.h>



class cStreamTransfer
{
public:
	cStreamTransfer();
	void OnClock(stream<stream256Word_t> & in_stream, stream<stream256Word_t> & out_stream);
private:
	enum state { IDLE = 0, AXIWORD_CHECK, WR} 	m_transferState;
	stream256Word_t m_prevWord;
	stream256Word_t m_currWord;

};

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#endif //__STREAM_TRANSFER__

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
